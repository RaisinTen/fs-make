<p align="center">
    <a href="#">
        <img src="https://github.com/RaisinTen/fs-make/raw/master/logo.svg" width="320"
            alt="fs-make logo"></a>
</p>
<p align="center">
    <a href="https://github.com/RaisinTen/fs-make/actions">
        <img src="https://github.com/RaisinTen/fs-make/workflows/C/C++%20CI/badge.svg"
            alt="CI"></a>
    <a href="LICENSE">
        <img src="https://img.shields.io/github/license/RaisinTen/fs-make"
            alt="LICENSE MIT"></a>
</p>

---

When you're planning on making a project, it would be very convenient to have a language to express its structure. It would be even better to generate the file system from it. Here's a data format, similar to [JSON](https://www.json.org/json-en.html) to help you plan out a file system and the associated parser, **fs-make (file system make)**.

## Grammar accepted by the Parser

A very simple grammar, very similar to JSON is used here:

* File and directory names are placed between a pair of double quotes (`"`) like this:
    ```javascript
    "file-name"
    ```
* Directories of files and directories are decribed by their respective directory names followed by a colon (`:`) and a comma-separated (`,`) set of file and directory representations between a pair of braces (`{}`) like this:
    ```javascript
    "src": {
        "main.cpp",
        "CMakeLists.txt",
        "build": {
            "Makefile",
            "boink"
        },
        "includes": {
        }
    }
    ```
    When a directory contains only a single entity, the braces aren't necessary:
    ```javascript
    "ihaveonefile": "onefile"
    ```
* The input file content must be of any of the following forms:
  * a file
    ```javascript
    "just a file"
    ```
  * a directory
    ```javascript
    "lonely directory": {
        "stuff"
    }
    ```
  * an unnamed set of entities like this:
    ```javascript
    {}
    ```
    
Here's a graph generated by [GNU Bison](https://www.gnu.org/software/bison/) describing the grammmar of the language.

![grammar graph](https://github.com/RaisinTen/fs-make/raw/master/graphviz.svg)

## Getting Started

Clone the repo with:
```sh
$ git clone https://github.com/RaisinTen/fs-make.git
$ cd fs-make
```

Build it using:
```sh
$ sudo ./configure
$ make
$ sudo make install
```

## Usage

1. Create a file describing the project structure.
2. Use `fs-make` to generate the shell script to make the file system like this:
    ```sh
    $ fs-make description.json script.sh
    ```
3. Run the script:
    ```sh
    $ bash ./script.sh
    ```

Here's an example:

![example](https://github.com/RaisinTen/fs-make/raw/master/fs-make-demo.png)

## Code of Conduct

Please refer to the [code of conduct](CODE_OF_CONDUCT.md) for the rules for interacting with this project.

## Contributing

Please go through the [contributing](CONTRIBUTING.md) documentation to contribute to this project.

## License

This project is licensed under the [MIT License](LICENSE).
